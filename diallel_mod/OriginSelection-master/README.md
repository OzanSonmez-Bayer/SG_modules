# Description
Generate diallel tables for origin selection(new dev crosses), hybrid prediction, and pre-plant HMU. 

## Data Input
1. Master table that is generated by AoB (required)
2. key inbred line list (optional)
3. configuration file for filtering rules (optional), for example, [config.txt](https://github.platforms.engineering/VegetablePipelineSolutions/OriginSelection/blob/master/config.txt)

## General Workflow
![alt text](https://github.platforms.engineering/VegetablePipelineSolutions/OriginSelection/blob/master/workflow/originselection_workflow.PNG?raw=true)

## Origin Selection Output
![alt text](https://github.platforms.engineering/VegetablePipelineSolutions/OriginSelection/blob/master/workflow/originselection_columns.PNG?raw=true)

## Main Scripts
[runScript.py](https://github.platforms.engineering/VegetablePipelineSolutions/OriginSelection/blob/master/runScript.py) is to run origin selection

Helper functions can be found in the following scripts: 
  1. [rulefilter.py](https://github.platforms.engineering/VegetablePipelineSolutions/OriginSelection/blob/master/rulefilter.py)
  2. [utils.py](https://github.platforms.engineering/VegetablePipelineSolutions/OriginSelection/blob/master/utils.py)
  3. [MidParentValue.py](https://github.platforms.engineering/VegetablePipelineSolutions/OriginSelection/blob/master/MidParentValue.py)

## Example Run
Example command lines can be found in [run_config.txt](https://github.platforms.engineering/VegetablePipelineSolutions/OriginSelection/blob/master/run_config.txt)
1. Example with all the arguments

python3 -m runScript --gcafile ycao1/OriginSelection/master_wide_test.csv --bucket veg-apd-sdi-predictiveanalytcs-prod-workspace --keyinbred /mnt/TempSC/2020_key_inbred_lines_tempSC.csv --het 678 83 89 A SLM804 --config /mnt/config.txt --local_path /mnt/TempSC/diallel_test.csv --s3_path ycao1/OriginSelection/Corn/DiallelTable/+OriginSelection/diallel_test.csv

2. Example with required argument only

python3 -m runScript --gcafile ycao1/OriginSelection/master_wide_test.csv --bucket veg-apd-sdi-predictiveanalytcs-prod-workspace --local_path /mnt/TempSC/diallel_test.csv


